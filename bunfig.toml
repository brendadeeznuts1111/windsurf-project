# Bun Configuration for Odds Protocol Monorepo
# Enhanced workspace and catalog setup for high-performance development

[install]
# Enable catalog for shared dependencies across workspace
catalog = true

# Cache installation in global location
cache = true

# Install packages as devDependencies by default
dev = false

# Don't install optionalDependencies by default
optional = false

# Don't install peerDependencies by default
peer = false

# Use exact versions for reproducibility
exact = false

[workspace]
# Workspace-specific settings
# Define shared dependencies in catalog
catalog = {
  "@types/bun": "^1.0.0",
  "typescript": "^5.4.0",
  "vitest": "^1.0.0",
  "fast-check": "^3.0.0",
  "zod": "^3.22.0"
}

[test]
# Enable test coverage
coverage = true

# Preload test files
preload = ["global-test-setup.ts"]

# Test timeout in milliseconds
timeout = 5000

[run]
# Shell to use for bun run
shell = "system"

# Load environment variables from .env file
envfile = ".env"

# Enable hot reload by default
hot = true

[build]
# Target environment
target = "bun"

# Output directory
outdir = "./dist"

# Source map generation
sourcemap = true

# Minify in production
minify = false

# Define global constants
define = {
  NODE_ENV = "\"development\""
}

[debug]
# Editor for blob: or src: links
editor = "code"
